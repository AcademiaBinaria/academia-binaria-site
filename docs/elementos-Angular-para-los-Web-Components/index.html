<!DOCTYPE html><html lang="es"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>Elementos Angular para los Web Components | Academia Binaria</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="La industria web vive un momento de esplendor y le crecen los frameworks como hierbas primaverales. Pero el estándar HTML no se queda atrás y evoluciona hacia tecnologías potentes y genéricas. Angular"><meta name="keywords" content="Angular,Angular8,Tutorial,Avanzado,Angular2,Elements,WebComponents"><meta property="og:type" content="article"><meta property="og:title" content="Elementos Angular para los Web Components"><meta property="og:url" content="https://academia-binaria.com/elementos-Angular-para-los-Web-Components/index.html"><meta property="og:site_name" content="Academia Binaria"><meta property="og:description" content="La industria web vive un momento de esplendor y le crecen los frameworks como hierbas primaverales. Pero el estándar HTML no se queda atrás y evoluciona hacia tecnologías potentes y genéricas. Angular"><meta property="og:locale" content="es"><meta property="og:image" content="https://academia-binaria.com/css/images/angular-19_elements.png"><meta property="og:updated_time" content="2019-10-28T16:29:59.402Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Elementos Angular para los Web Components"><meta name="twitter:description" content="La industria web vive un momento de esplendor y le crecen los frameworks como hierbas primaverales. Pero el estándar HTML no se queda atrás y evoluciona hacia tecnologías potentes y genéricas. Angular"><meta name="twitter:image" content="https://academia-binaria.com/css/images/angular-19_elements.png"><link rel="alternate" href="http://eepurl.com/b3p7fb" title="Academia Binaria" type="application/atom+xml"><link rel="icon" href="/css/images/favicon.ico"><link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/libs/open-sans/styles.css"><link rel="stylesheet" href="/libs/source-code-pro/styles.css"><link rel="stylesheet" href="/css/style.css"><script src="/libs/jquery/2.1.3/jquery.min.js"></script><script type="text/javascript">!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject="ga",e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script"),ga("create","UA-66674029-1","auto"),ga("send","pageview")</script><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-2476046955705301",enable_page_level_ads:!0})</script></head></html><body><div id="container"><header id="header"><div id="header-main" class="header-inner"><div class="outer"><a href="/" id="logo"><i class="logo"></i> <span class="site-title">Academia Binaria</span></a><nav id="main-nav"><a class="main-nav-link" href="/cursos">Cursos Online</a></nav><nav id="sub-nav"><div class="profile" id="profile-nav"><a id="profile-anchor" href="javascript:;"><img class="avatar" src="https://www.gravatar.com/avatar/c6ea942080cef8be6ff80ca095e718b8"> <i class="fa fa-caret-down"></i></a></div></nav><div id="search-form-wrap"><form class="search-form"><input type="text" class="ins-search-input search-form-input" placeholder="Buscar"> <button type="submit" class="search-form-submit"></button></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="escribe..."> <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Entradas",PAGES:"Páginas",CATEGORIES:"Categorias",TAGS:"Etiquetas",UNTITLED:"(Untitled)"},ROOT_URL:"/",CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script></div></div></div><div id="main-nav-mobile" class="header-sub header-inner"><table class="menu outer"><tr><td><a class="main-nav-link" href="/cursos">Cursos Online</a></td><td><div class="search-form"><input type="text" class="ins-search-input search-form-input" placeholder="Buscar"></div></td></tr></table></div></header><div class="outer"><aside id="profile"><div class="inner profile-inner"><div class="base-info profile-block"><img id="avatar" src="https://www.gravatar.com/avatar/c6ea942080cef8be6ff80ca095e718b8?s=128"><h2 id="name">Alberto Basalo</h2><h3 id="title">Formador y Consultor</h3><span id="location"><i class="fa fa-map-marker"></i>A Coruña, Spain</span> <a id="follow" target="_blank" href="https://twitter.com/albertobasalo">SEGUIR</a></div><div class="article-info profile-block"><a href="https://angular.builders" style="align-content:center"><img src="/css/images/angular.builders_cuadrado.png" width="100%" height="auto" alt="Angular.Builders"></a></div><div class="profile-block social-links"><table><tr><td><a href="https://github.com/AcademiaBinaria" target="_blank" title="github" class="tooltip"><i class="fa fa-github"></i></a></td><td><a href="https://twitter.com/albertobasalo" target="_blank" title="twitter" class="tooltip"><i class="fa fa-twitter"></i></a></td><td><a href="https://www.facebook.com/Agora.Binaria.SL/" target="_blank" title="facebook" class="tooltip"><i class="fa fa-facebook"></i></a></td><td><a href="http://eepurl.com/b3p7fb" target="_blank" title="rss" class="tooltip"><i class="fa fa-rss"></i></a></td></tr></table></div></div></aside><section id="main"><article id="post-elementos-Angular-para-los-Web-Components" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">Elementos Angular para los Web Components</h1><div class="article-meta"><div class="article-date"><i class="fa fa-calendar"></i> <a href="/elementos-Angular-para-los-Web-Components/"><time datetime="2019-10-29T08:19:39.000Z" itemprop="datePublished">29-10-2019</time></a></div><div class="article-category"><i class="fa fa-folder"></i> <a class="article-category-link" href="/categories/Tutorial/">Tutorial</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Tutorial/Angular/">Angular</a></div><div class="article-tag"><i class="fa fa-tag"></i> <a class="tag-link" href="/tag/Angular/">Angular</a>, <a class="tag-link" href="/tag/Angular2/">Angular2</a>, <a class="tag-link" href="/tag/Angular8/">Angular8</a>, <a class="tag-link" href="/tag/Avanzado/">Avanzado</a>, <a class="tag-link" href="/tag/Elements/">Elements</a>, <a class="tag-link" href="/tag/Tutorial/">Tutorial</a>, <a class="tag-link" href="/tag/WebComponents/">WebComponents</a></div></div></header><div class="article-entry" itemprop="articleBody"><p><img src="/images/tutorial-angular-19_elements.png" alt="elementos-Angular-para-los-Web-Components"></p><p>La industria web vive un momento de esplendor y le crecen los <em>frameworks</em> como hierbas primaverales. Pero el estándar HTML no se queda atrás y evoluciona hacia tecnologías potentes y genéricas. <strong>Angular Elements</strong> promueve la reutilización de código en distintos frameworks para que puedas usar tus componentes Angular en otros entornos.</p><p>Siendo como es Google una empresa <em>web first</em>, se esfuerzan en incorporar y adaptar de la mejor manera los estándares HTML a sus productos. Con el desarrollo de Angular siempre tuvieron la vista puesta en la tecnología de los <strong>Web Components</strong>. Buscando que los usos futuros del código se garantizasen más allá del framework de creación.</p><a id="more"></a><p>Partiendo del código tal como quedó en <a href="../internacionalizacion-y-puesta-en-produccion-con-Angular/">Internacionalización y puesta en producción</a>. Al finalizar tendrás unos componentes que podrás utilizar fuera de Angular.</p><blockquote><p>Código asociado a este tutorial en <em>GitHub</em>: <a href="https://github.com/AcademiaBinaria/angular-boss" target="_blank" rel="noopener">AcademiaBinaria/angular-boss</a></p></blockquote><h1 id="1-Componentes-independientes-del-framework"><a href="#1-Componentes-independientes-del-framework" class="headerlink" title="1. Componentes independientes del framework"></a>1. Componentes independientes del framework</h1><blockquote><p>Hay lácteos que aguantan más que algunos frameworks.</p></blockquote><p>Seguramente este no sea el caso de Angular, ni de otros frameworks de adopción masiva como React, Vue o Svelte. Todos ellos tienen un presente brillante y un futuro garantizado al plazo que la tecnología pueda vislumbrar. Pero más temprano que tarde otra tecnología o paradigma disruptivo los desplazará. O al menos los obligará a cambiar tanto que sean irreconocibles.</p><p>Para entonces, y también mientras tanto, nuestro código será cautivo del framework en el que nació. Pero eso cambiará con los <strong>Web Components</strong>.</p><h2 id="1-1-Origen-y-potencial"><a href="#1-1-Origen-y-potencial" class="headerlink" title="1.1 Origen y potencial"></a>1.1 Origen y potencial</h2><p>Los <strong>Web Components</strong> son independientes de los <em>frameworks.</em> Esta es la idea clave; se pueden desarrollar con el estándar pelado de JavaScript o con cualquier framework moderno. Pero lo fundamental es que no exigen nada especial para ejecutarse. Esto permite la interoperabilidad y también extiende la vida útil de tus creaciones.</p><h3 id="Usos-posibles"><a href="#Usos-posibles" class="headerlink" title="Usos posibles"></a>Usos posibles</h3><p>Partiendo de dichas premisas es fácil entrever todo el potencial y casos dónde aplicarlos. Por ejemplo:</p><ul><li><p>Librerías de diseño <em>multiplataforma</em>.</p></li><li><p>Migración paulatina de aplicaciones <em>legacy</em>.</p></li><li><p>Integración dinámica en grandes soluciones <em>CMS</em>.</p></li><li><p>Mejoras funcionales en aplicaciones <em>server side</em>.</p></li></ul><h2 id="1-2-Estandares-y-tecnologia"><a href="#1-2-Estandares-y-tecnologia" class="headerlink" title="1.2 Estándares y tecnología"></a>1.2 Estándares y tecnología</h2><p>Bajo el término Web Components se esconden diversas tecnologías. No todas ellas están al mismo nivel de aceptación, e incluso alguna no ha visto la luz, pero este es un esbozo de lo que tenemos:</p><ul><li><strong>Shadow DOM:</strong> Manipulación de un árbol en memoria antes de aplicar sus cambios al verdadero.</li><li><strong>HTML templates:</strong> Fragmentos de HTML que no se utilizan en la carga de la página, pero que se pueden instanciar más adelante.</li><li><strong>ES Modules:</strong> Inclusión de documentos JS en forma de módulos de manera estándar y ágil.</li><li><strong>Custom elements:</strong> son etiquetas HTML con funciones encapsuladas, reutilizables y listas para usar en páginas y aplicaciones web.</li></ul><p>El estándar:</p><blockquote><p>Los <strong>Custom Web Elements</strong> sólo requieren <em>HTML y JavaScript</em>.</p></blockquote><p>La tecnología:</p><blockquote><p><em>Angular Elements</em> empaqueta tus componentes como <strong>Custom Web Elements</strong>.</p></blockquote><h1 id="2-Desarrollo-y-despliegue-con-Angular"><a href="#2-Desarrollo-y-despliegue-con-Angular" class="headerlink" title="2. Desarrollo y despliegue con Angular"></a>2. Desarrollo y despliegue con Angular</h1><h3 id="Un-componente-comun-de-Angular"><a href="#Un-componente-comun-de-Angular" class="headerlink" title="Un componente común de Angular"></a>Un componente común de Angular</h3><p>Partimos de un componente Angular normal y corriente. Un conversor (sí, ya sé que es sólo un miserable multiplicador) de monedas.</p><p><code>libs\currency\src\lib\converter\converter.component.html</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span>&gt;</span>Amount to convert: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"amount"</span></span></span><br><span class="line"><span class="tag">         [(<span class="attr">ngModel</span>)]=<span class="string">"amount"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">type</span>=<span class="string">"number"</span></span></span><br><span class="line"><span class="tag">         (<span class="attr">change</span>)=<span class="string">"convert()"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span>&gt;</span>Converted amount: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"convertedAmount"</span></span></span><br><span class="line"><span class="tag">         [(<span class="attr">ngModel</span>)]=<span class="string">"convertedAmount"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">type</span>=<span class="string">"number"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">readonly</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>libs\currency\src\lib\converter\converter.component.ts</code></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  selector: <span class="string">'angular-boss-converter'</span>,</span><br><span class="line">  templateUrl: <span class="string">'./converter.component.html'</span>,</span><br><span class="line">  styleUrls: [<span class="string">'./converter.component.css'</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> ConverterComponent <span class="keyword">implements</span> OnInit &#123;</span><br><span class="line">  <span class="meta">@Input</span>() factor = <span class="number">1.1</span>;</span><br><span class="line">  <span class="meta">@Input</span>() amount = <span class="number">0</span>;</span><br><span class="line">  <span class="meta">@Output</span>() converted = <span class="keyword">new</span> EventEmitter&lt;<span class="built_in">number</span>&gt;();</span><br><span class="line">  convertedAmount = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">  ngOnInit() &#123;</span><br><span class="line">    <span class="keyword">this</span>.convert();</span><br><span class="line">  &#125;</span><br><span class="line">  convert() &#123;</span><br><span class="line">    <span class="keyword">this</span>.convertedAmount = <span class="keyword">this</span>.amount * <span class="keyword">this</span>.factor;</span><br><span class="line">    <span class="keyword">this</span>.converted.next(<span class="keyword">this</span>.convertedAmount);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="El-componente-sigue-siendo-Angular"><a href="#El-componente-sigue-siendo-Angular" class="headerlink" title="El componente sigue siendo Angular"></a>El componente sigue siendo Angular</h3><p>Es tan normal y corriente que puedo importar su módulo y usarlo en cualquier aplicación Angular.</p><p><code>apps\warehouse\src\app\app.module.ts</code></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; CurrencyModule &#125; <span class="keyword">from</span> <span class="string">'@angular-boss/currency'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">  imports: [</span><br><span class="line">    CurrencyModule</span><br><span class="line">  ],</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppModule &#123;&#125;</span><br></pre></td></tr></table></figure><p><code>apps\warehouse\src\app\app.component.html</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">angular-boss-converter</span> <span class="attr">amount</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">factor</span>=<span class="string">"1.5"</span>&gt;</span><span class="tag">&lt;/<span class="name">angular-boss-converter</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="2-1-Exponer-los-componentes"><a href="#2-1-Exponer-los-componentes" class="headerlink" title="2.1 Exponer los componentes"></a>2.1 Exponer los componentes</h2><p>Pero ahora todo va a cambiar. Necesitamos un proyecto de exportación. Nada especial. Yo le pongo aquí el prefijo external para hacer hincapié en su función de exportación.</p><p><code>ng g @nrwl/angular:application external-currency</code></p><p>Si el componente a exportar ya ha sido probado, y debería, en este proyecto no necesitamos nada más que el módulo. Así que puedes borrar tranquilamente el <code>AppComponent</code>, e incluso el <code>index.html</code>.</p><p>Pongámonos con la exportación, para la cual hacen falta herramientas. Pues adelante con ellas. Incorporamos <strong>Angular Elements</strong>.</p><p><code>ng add @angular/elements</code></p><p>Ahora ya importamos el componente en el <em>array</em> <code>imports</code> y lo exportamos, pero no en <code>exports</code> ni tampoco en <code>bootstrap</code>. Vamos a incluirlo en <code>entryComponents</code>.</p><p><code>apps\external-currency\src\app\app.module.ts</code></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ConverterComponent, CurrencyModule &#125; <span class="keyword">from</span> <span class="string">'@angular-boss/currency'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Injector, NgModule &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; createCustomElement &#125; <span class="keyword">from</span> <span class="string">'@angular/elements'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserModule &#125; <span class="keyword">from</span> <span class="string">'@angular/platform-browser'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'zone.js'</span>;</span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">  imports: [BrowserModule, CurrencyModule],</span><br><span class="line">  entryComponents: [ConverterComponent]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppModule &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"><span class="keyword">private</span> injector: Injector</span>) &#123;&#125;</span><br><span class="line">  ngDoBootstrap() &#123;</span><br><span class="line">    <span class="keyword">const</span> el = createCustomElement(ConverterComponent, &#123;</span><br><span class="line">      injector: <span class="keyword">this</span>.injector</span><br><span class="line">    &#125;);</span><br><span class="line">    customElements.define(<span class="string">'external-currency-converter'</span>, el);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Los <code>entryComponents</code> son cargados por Angular de forma imperativa, sin necesidad de incluirlos en un <em>html</em>. Menos mal porque este proyecto ni siquiera usa el <code>index.hml</code></p><h3 id="ngDoBootstrap"><a href="#ngDoBootstrap" class="headerlink" title="ngDoBootstrap"></a>ngDoBootstrap</h3><p>Justamente la falta de componentes en el array <code>bootstrap</code> obliga a arrancar la aplicación mediante código. Esto lo hacemos programando en el <em>hook</em> <code>ngDoBootstrap()</code>, un método que será invocado al inicio y en el meteremos la lógica necesaria para definir el <strong>Web Component</strong>.</p><p>Son solamente dos instrucciones que usarás para cada componente que quieras transformar en un elemento.</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> el = createCustomElement(ConverterComponent, &#123;</span><br><span class="line">  injector: <span class="keyword">this</span>.injector</span><br><span class="line">&#125;);</span><br><span class="line">customElements.define(<span class="string">'external-currency-converter'</span>, el);</span><br></pre></td></tr></table></figure><p>En la primera se crea el elemento mediante una función constructora que ofrece <code>@angular/elements</code>. Para ello necesita un puntero al componente original y el sistema de inyección de dependencias de Angular. (El cual a su vez reclamamos en el constructor del módulo).</p><p>La segunda instrucción ya no es propia de Angular. Simplemente se le asigna al elemento recién creado el <em>selector tag</em> por el que será conocido.</p><blockquote><p>Atención a la importación de <code>zone.js</code>.</p></blockquote><p>Es necesaria para poder usar la detección de cambios en aplicaciones no Angular.</p><h2 id="2-2-Compilacion-y-despliegue"><a href="#2-2-Compilacion-y-despliegue" class="headerlink" title="2.2 Compilación y despliegue"></a>2.2 Compilación y despliegue</h2><p>A partir de aquí se acabó el trabajo de programación. Y toca el más tedioso de operaciones de compilación y distribución.</p><p>Afortunadamente podemos aplicar la magia de <code>@angular/elements</code> y utilidades como <code>ngx-build-plus</code> para compilarlo como un Web Component.</p><h3 id="Agregar-herramientas-de-ayuda"><a href="#Agregar-herramientas-de-ayuda" class="headerlink" title="Agregar herramientas de ayuda"></a>Agregar herramientas de ayuda</h3><p>Lo primero es instalar una herramienta que mejora el proceso de compilación del CLI.</p><p><code>ng add ngx-build-plus --project external-currency</code></p><p>Esencialmente usa <em>webpack</em> para empaquetar el resultado de la compilación <code>build</code> nativa del CLI. Pero no necesitas profundizar en su interior para usarla en el día día.</p><h3 id="Polyfills"><a href="#Polyfills" class="headerlink" title="Polyfills"></a>Polyfills</h3><p>Con el Internet Explorer hemos topado. Y otros navegadores antiguos, claro. El caso es que para que entiendan este nuevo estándar, tenemos que incluir una serie de arreglos llamados <em>polyfills</em>, que rellenan los huecos de incomprensión de los viejos exploradores. Así que para garantizar la compatibilidad en todos los navegadores instalamos todo lo necesario usando <code>ngx-build-plus</code>.</p><p><code>ng g ngx-build-plus:wc-polyfill --project external-currency</code></p><p>Ojo que en algunas versiones se equivoca en la generación de los <em>assets</em> y hay que moverlos a mano.</p><hr><h3 id="Compilacion"><a href="#Compilacion" class="headerlink" title="Compilación"></a>Compilación</h3><p>Ya solo falta lanzar el comando de compilación <code>ng build</code>. Pero para ajustar un poco más el resultado te propongo que deshabilites el nombrado con <em>hash</em> y por supuesto que uses algunos parámetros que ha incluido <code>ngx-build-plus</code>.</p><p>Nombres legibles: <code>&quot;outputHashing&quot;: &quot;none&quot;,</code></p><p>Generación: <code>ng build --prod --single-bundle --project external-currency</code></p><h1 id="3-Consumo-en-HTML"><a href="#3-Consumo-en-HTML" class="headerlink" title="3. Consumo en HTML"></a>3. Consumo en HTML</h1><p>Ya está, el resultado se podrá utilizar en cualquier aplicación HTML. Por ejemplo en una página prácticamente vacía y completamente estándar.</p><p><code>apps\vanilla\index.html</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vanilla Currency<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">base</span> <span class="attr">href</span>=<span class="string">"/apps/vanilla/"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">"image/x-icon"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">href</span>=<span class="string">"favicon.ico"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Convert money:<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">external-currency-converter</span> <span class="attr">amount</span>=<span class="string">"15"</span>&gt;</span><span class="tag">&lt;/<span class="name">external-currency-converter</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>¿Que no funciona? Obvio, el navegador no entiende el <em>tag</em> <code>external-currency-converter</code>. Necesitamos el JavaScript de la compilación anterior</p><h2 id="3-1-Copiar"><a href="#3-1-Copiar" class="headerlink" title="3.1 Copiar"></a>3.1 Copiar</h2><p>Copia los dos archivos generados en la carpeta de distribución</p><p><code>dist\apps\external-currency</code></p><p>Y pégalos al lado del html que quieras. Por ejemplo:</p><p><code>apps\vanilla\</code></p><h2 id="3-2-Importar"><a href="#3-2-Importar" class="headerlink" title="3.2 Importar"></a>3.2 Importar</h2><p>Son dos porque hay versión clásica y modular. Importa la que necesites o ambas, y ya está.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"main-es2015.js"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">"module"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"main-es5.js"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">nomodule</span></span></span><br><span class="line"><span class="tag">        <span class="attr">defer</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>Una web HTML pura, mostrando un componente creado en Angular</p></blockquote><p>Ahora ya tienes código creado en Angular pero que puedes integrar en cualquier web. Todo este proceso aún puede resultar tedioso, pero es el futuro. Continúa tu formación avanzada para crear aplicaciones Angular fijándote en el <a href="https://github.com/angularbuilders/angular-blueprint/" target="_blank" rel="noopener">Angular Blueprint</a> creado por la iniciativa <a href="https://angular.builders/" target="_blank" rel="noopener">Angular.Builders</a> y verás como aprendes a programar grandes aplicaciones con Angular.</p><blockquote><p>Aprender, programar, disfrutar, repetir.<br>– <cite>Saludos, Alberto Basalo</cite></p></blockquote></div><footer class="article-footer"><div class="share-container"></div><a data-url="https://academia-binaria.com/elementos-Angular-para-los-Web-Components/" data-id="ck24mrv6j0000k4tmw78c5hxq" class="article-share-link"><i class="fa fa-share"></i>Compartir</a><script>!function(n){"undefined"!=typeof __SHARE_BUTTON_BINDED__&&__SHARE_BUTTON_BINDED__||(__SHARE_BUTTON_BINDED__=!0,n("body").on("click",function(){n(".article-share-box.on").removeClass("on")}).on("click",".article-share-link",function(t){t.stopPropagation();var e,a=n(this),o=a.attr("data-url"),i=encodeURIComponent(o),r="article-share-box-"+a.attr("data-id"),s=a.offset();if(n("#"+r).length){if((e=n("#"+r)).hasClass("on"))return void e.removeClass("on")}else{var l=['<div id="'+r+'" class="article-share-box">','<input class="article-share-input" value="'+o+'">','<div class="article-share-links">','<a href="https://twitter.com/intent/tweet?url='+i+'" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>','<a href="https://www.facebook.com/sharer.php?u='+i+'" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>','<a href="http://pinterest.com/pin/create/button/?url='+i+'" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>','<a href="https://plus.google.com/share?url='+i+'" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',"</div>","</div>"].join("");e=n(l),n("body").append(e)}n(".article-share-box.on").hide(),e.css({top:s.top+25,left:s.left}).addClass("on")}).on("click",".article-share-box",function(t){t.stopPropagation()}).on("click",".article-share-box-input",function(){n(this).select()}).on("click",".article-share-box-link",function(t){t.preventDefault(),t.stopPropagation(),window.open(this.href,"article-share-box-window-"+Date.now(),"width=500,height=450")}))}(jQuery)</script></footer></div><nav id="article-nav"><a href="/internacionalizacion-y-puesta-en-produccion-con-Angular/" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">Anterior</strong><div class="article-nav-title">Internacionalización y puesta en producción</div></a></nav><p><a href="https://www.trainingit.es/curso-angular-basico/?promo=angular.builders">Código promo para: Curso online de introducción a Angular</a></p><hr><p><a href="https://www.trainingit.es/curso-angular-avanzado/?promo=angular.builders">Código promo para: Curso online avanzado con Angular</a></p><a href="https://angular.builders"><img src="/css/images/angular.builders.png" alt="Angular.Builders"></a><hr></article></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">Recientes</h3><div class="widget"><ul id="recent-post"><li><div class="item-thumbnail"><a href="/elementos-Angular-para-los-Web-Components/" class="thumbnail"><span style="background-image:url(/css/images/angular-19_elements.png)" alt="Elementos Angular para los Web Components" class="thumbnail-image"></span></a></div><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/Tutorial/">Tutorial</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Tutorial/Angular/">Angular</a></p><p class="item-title"><a href="/elementos-Angular-para-los-Web-Components/" class="title">Elementos Angular para los Web Components</a></p><p class="item-date"><time datetime="2019-10-29T08:19:39.000Z" itemprop="datePublished">29-10-2019</time></p></div></li><li><div class="item-thumbnail"><a href="/internacionalizacion-y-puesta-en-produccion-con-Angular/" class="thumbnail"><span style="background-image:url(/css/images/angular-18_i18n.png)" alt="Internacionalización y puesta en producción" class="thumbnail-image"></span></a></div><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/Tutorial/">Tutorial</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Tutorial/Angular/">Angular</a></p><p class="item-title"><a href="/internacionalizacion-y-puesta-en-produccion-con-Angular/" class="title">Internacionalización y puesta en producción</a></p><p class="item-date"><time datetime="2019-10-15T17:50:27.000Z" itemprop="datePublished">15-10-2019</time></p></div></li><li><div class="item-thumbnail"><a href="/velocidad-y-seo-con-el-ssr-de-angular-universal/" class="thumbnail"><span style="background-image:url(/css/images/angular-17_ssr.png)" alt="Velocidad y SEO con el SSR de Angular Universal" class="thumbnail-image"></span></a></div><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/Tutorial/">Tutorial</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Tutorial/Angular/">Angular</a></p><p class="item-title"><a href="/velocidad-y-seo-con-el-ssr-de-angular-universal/" class="title">Velocidad y SEO con el SSR de Angular Universal</a></p><p class="item-date"><time datetime="2019-10-09T11:50:27.000Z" itemprop="datePublished">09-10-2019</time></p></div></li><li><div class="item-thumbnail"><a href="/pwa-entre-la-web-y-las-apps-con-angular/" class="thumbnail"><span style="background-image:url(/css/images/angular-16_pwa.png)" alt="PWA, Entre la web y las apps con Angular" class="thumbnail-image"></span></a></div><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/Tutorial/">Tutorial</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Tutorial/Angular/">Angular</a></p><p class="item-title"><a href="/pwa-entre-la-web-y-las-apps-con-angular/" class="title">PWA, Entre la web y las apps con Angular</a></p><p class="item-date"><time datetime="2019-10-03T17:50:27.000Z" itemprop="datePublished">03-10-2019</time></p></div></li><li><div class="item-thumbnail"><a href="/el-patron-redux-con-ngrx-en-angular/" class="thumbnail"><span style="background-image:url(/css/images/angular-15_ngrx.png)" alt="El patrón Redux con NgRx en Angular" class="thumbnail-image"></span></a></div><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/Tutorial/">Tutorial</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Tutorial/Angular/">Angular</a></p><p class="item-title"><a href="/el-patron-redux-con-ngrx-en-angular/" class="title">El patrón Redux con NgRx en Angular</a></p><p class="item-date"><time datetime="2019-09-25T11:08:50.000Z" itemprop="datePublished">25-09-2019</time></p></div></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Categorias</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorial/">Tutorial</a><span class="category-list-count">20</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorial/Angular/">Angular</a><span class="category-list-count">20</span></li></ul></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Nube de etiquetas</h3><div class="widget tagcloud"><a href="/tag/Angular/" style="font-size:20px">Angular</a> <a href="/tag/Angular2/" style="font-size:17.5px">Angular2</a> <a href="/tag/Angular7/" style="font-size:10px">Angular7</a> <a href="/tag/Angular8/" style="font-size:18.75px">Angular8</a> <a href="/tag/AngularJS/" style="font-size:10px">AngularJS</a> <a href="/tag/Avanzado/" style="font-size:15px">Avanzado</a> <a href="/tag/BackEnd/" style="font-size:10px">BackEnd</a> <a href="/tag/CLI/" style="font-size:11.25px">CLI</a> <a href="/tag/ChangeDetection/" style="font-size:10px">ChangeDetection</a> <a href="/tag/Components/" style="font-size:10px">Components</a> <a href="/tag/Cypress/" style="font-size:10px">Cypress</a> <a href="/tag/DI/" style="font-size:10px">DI</a> <a href="/tag/Elements/" style="font-size:10px">Elements</a> <a href="/tag/Forms/" style="font-size:10px">Forms</a> <a href="/tag/FrontEnd/" style="font-size:10px">FrontEnd</a> <a href="/tag/Introduccion/" style="font-size:16.25px">Introducción</a> <a href="/tag/Jest/" style="font-size:10px">Jest</a> <a href="/tag/MongoDB/" style="font-size:10px">MongoDB</a> <a href="/tag/NgRx/" style="font-size:10px">NgRx</a> <a href="/tag/NodeJS/" style="font-size:13.75px">NodeJS</a> <a href="/tag/Nx/" style="font-size:11.25px">Nx</a> <a href="/tag/Observables/" style="font-size:13.75px">Observables</a> <a href="/tag/Opinion/" style="font-size:12.5px">Opinión</a> <a href="/tag/PWA/" style="font-size:10px">PWA</a> <a href="/tag/Redux/" style="font-size:11.25px">Redux</a> <a href="/tag/Routing/" style="font-size:10px">Routing</a> <a href="/tag/RxJS/" style="font-size:10px">RxJS</a> <a href="/tag/RxJs/" style="font-size:10px">RxJs</a> <a href="/tag/SPA/" style="font-size:10px">SPA</a> <a href="/tag/SSR/" style="font-size:10px">SSR</a> <a href="/tag/Servicios/" style="font-size:10px">Servicios</a> <a href="/tag/Template/" style="font-size:10px">Template</a> <a href="/tag/Test/" style="font-size:10px">Test</a> <a href="/tag/Tutorial/" style="font-size:20px">Tutorial</a> <a href="/tag/TypeScript/" style="font-size:10px">TypeScript</a> <a href="/tag/Universal/" style="font-size:10px">Universal</a> <a href="/tag/WebComponents/" style="font-size:10px">WebComponents</a> <a href="/tag/http/" style="font-size:11.25px">http</a> <a href="/tag/i18n/" style="font-size:10px">i18n</a> <a href="/tag/material/" style="font-size:10px">material</a> <a href="/tag/reactiveForms/" style="font-size:10px">reactiveForms</a></div></div><div class="widget-wrap widget-list"><h3 class="widget-title">Links</h3><div class="widget"><ul><li><a href="https://www.trainingit.es/curso-angular-basico/?promo=angular.builders">Intro</a></li><li><a href="https://www.trainingit.es/curso-angular-avanzado/?promo=angular.builders">Avanzado</a></li><li><a href="https://www.trainingit.es/curso-typescript/?promo=meetup10&af=abasalo">TypeScript</a></li><li><a href="http://referral.pluralsight.com/mQe488E">PluralSight</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Archivos</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">octubre 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">septiembre 2019</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">marzo 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">febrero 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">enero 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">marzo 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">mayo 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">abril 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">marzo 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">enero 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">agosto 2015</a><span class="archive-list-count">1</span></li></ul></div></div><div id="toTop" class="fa fa-angle-up"></div><div><a href="https://angular.builders" style="align-content:center"><img src="/css/images/angular.builders.png" width="100%" height="auto" alt="Angular.Builders"></a></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2019 Developed by <a target="_blank" href="http://agorabinaria.com">Ágora Binaria</a>.</div></div></footer><script src="/js/main.js"></script><script src="//load.sumome.com/" data-sumo-site-id="24f3eb649e85fa1f7db20b7fa344f42f381f65f8f86f7028766c55d313e73eb5" async></script></div></body>